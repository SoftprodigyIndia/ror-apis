{"version":3,"sources":["webpack:///src/app/account/account-routing.module.ts","webpack:///src/app/account/account.module.ts","webpack:///src/app/account/layout.component.ts","webpack:///src/app/account/layout.component.html","webpack:///src/app/account/login.component.ts","webpack:///src/app/account/login.component.html","webpack:///src/app/account/register.component.ts","webpack:///src/app/account/register.component.html"],"names":["routes","path","component","children","AccountRoutingModule","forChild","imports","exports","AccountModule","declarations","LayoutComponent","router","accountService","userValue","navigate","templateUrl","LoginComponent","formBuilder","route","alertService","loading","submitted","form","group","email","required","password","returnUrl","snapshot","queryParams","clear","invalid","login","value","pipe","subscribe","data","error","controls","onSubmit","RegisterComponent","name","minLength","register","success","keepAfterRouteChange","localStorage","setItem"],"mappings":"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","file":"account-account-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LayoutComponent } from './layout.component';\nimport { LoginComponent } from './login.component';\nimport { RegisterComponent } from './register.component';\n\nconst routes: Routes = [\n    {\n        path: '', component: LayoutComponent,\n        children: [\n            { path: 'login', component: LoginComponent },\n            { path: 'register', component: RegisterComponent }\n        ]\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class AccountRoutingModule { }","import { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nimport { AccountRoutingModule } from './account-routing.module';\nimport { LayoutComponent } from './layout.component';\nimport { LoginComponent } from './login.component';\nimport { RegisterComponent } from './register.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        ReactiveFormsModule,\n        AccountRoutingModule\n    ],\n    declarations: [\n        LayoutComponent,\n        LoginComponent,\n        RegisterComponent\n    ]\n})\nexport class AccountModule { }","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AccountService } from '@app/_services';\n\n@Component({ templateUrl: 'layout.component.html' })\nexport class LayoutComponent {\n    constructor(\n        private router: Router,\n        private accountService: AccountService\n    ) {\n        // redirect to home if already logged in\n        if (this.accountService.userValue) {\n            this.router.navigate(['/']);\n        }\n    }\n}","<div class=\"col-md-6 offset-md-3 mt-5\">\n    <router-outlet></router-outlet>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { first } from 'rxjs/operators';\n\nimport { AccountService, AlertService } from '@app/_services';\n\n@Component({ templateUrl: 'login.component.html' })\nexport class LoginComponent implements OnInit {\n    form: FormGroup;\n    loading = false;\n    submitted = false;\n    returnUrl: string;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private route: ActivatedRoute,\n        private router: Router,\n        private accountService: AccountService,\n        private alertService: AlertService\n    ) { }\n\n    ngOnInit() {\n        this.form = this.formBuilder.group({\n            email: ['', [Validators.required, Validators.email]],\n            password: ['', Validators.required]\n        });\n\n        // get return url from route parameters or default to '/'\n        this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n    }\n\n    // convenience getter for easy access to form fields\n    get f() { return this.form.controls; }\n\n    onSubmit() {\n        this.submitted = true;\n\n        // reset alerts on submit\n        this.alertService.clear();\n\n        // stop here if form is invalid\n        if (this.form.invalid) {\n            return;\n        }\n\n        this.loading = true;\n        this.accountService.login(this.form.value)\n            .pipe(first())\n            .subscribe(\n                data => {\n                    this.router.navigate([this.returnUrl]);\n\n                },\n                error => {\n                    this.alertService.error(error);\n                    this.loading = false;\n                });\n    }\n}\n","<div class=\"card\">\n    <h4 class=\"card-header\">Login</h4>\n    <div class=\"card-body\">\n        <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n          <div class=\"form-group\">\n              <label for=\"email\">Email</label>\n              <input type=\"email\" formControlName=\"email\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.email.errors }\" />\n              <div *ngIf=\"submitted && f.email.errors\" class=\"invalid-feedback\" ng-pattern=\"pattern\">\n                  <div *ngIf=\"f.email.errors.required\">Email is required</div>\n                  <div *ngIf=\"f.email.errors.email\">Enter a valid email</div>\n              </div>\n          </div>\n            <div class=\"form-group\">\n                <label for=\"password\">Password</label>\n                <input type=\"password\" formControlName=\"password\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.password.errors }\" />\n                <div *ngIf=\"submitted && f.password.errors\" class=\"invalid-feedback\">\n                    <div *ngIf=\"f.password.errors.required\">Password is required</div>\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <button [disabled]=\"loading\" class=\"btn btn-primary\">\n                    <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm mr-1\"></span>\n                    Login\n                </button>\n                <!-- <a routerLink=\"../register\" class=\"btn btn-link\">Register</a> -->\n            </div>\n        </form>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { first } from 'rxjs/operators';\n\nimport { AccountService, AlertService } from '@app/_services';\n\n@Component({ templateUrl: 'register.component.html' })\nexport class RegisterComponent implements OnInit {\n    form: FormGroup;\n    loading = false;\n    submitted = false;\n    returnUrl: string;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private route: ActivatedRoute,\n        private router: Router,\n        private accountService: AccountService,\n        private alertService: AlertService\n    ) { }\n\n    ngOnInit() {\n        this.form = this.formBuilder.group({\n            name: ['', Validators.required],\n            email: ['', [Validators.required,  Validators.email]],\n            password: ['', [Validators.required, Validators.minLength(6)]]\n        });\n        // get return url from route parameters or default to '/'\n        this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n    }\n\n    // convenience getter for easy access to form fields\n    get f() { return this.form.controls; }\n\n    onSubmit() {\n        this.submitted = true;\n\n        // reset alerts on submit\n        this.alertService.clear();\n\n        // stop here if form is invalid\n        if (this.form.invalid) {\n            return;\n        }\n\n        this.loading = true;\n        // var data = {}\n        // data[\"user\"] = this.form.value\n\n        this.accountService.register(this.form.value)\n            .pipe(first())\n            .subscribe(\n                data => {\n                    this.alertService.success('Registration successful', { keepAfterRouteChange: true });\n                    // this.router.navigate(['../login'], { relativeTo: this.route });\n                    this.router.navigate(['../home']);\n                    localStorage.setItem('authToken', data[\"token\"])\n                },\n                error => {\n                    this.alertService.error(error);\n                    this.loading = false;\n                });\n    }\n}\n","<div class=\"card\">\n    <h4 class=\"card-header\">Register</h4>\n    <div class=\"card-body\">\n        <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n            <div class=\"form-group\">\n                <label for=\"name\"> Name</label>\n                <input type=\"text\" formControlName=name class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.name.errors }\" />\n                <div *ngIf=\"submitted && f.name.errors\" class=\"invalid-feedback\">\n                    <div *ngIf=\"f.name.errors.required\"> Name is required</div>\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"email\">Email</label>\n                <input type=\"email\" formControlName=\"email\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.email.errors }\" />\n                <div *ngIf=\"submitted && f.email.errors\" class=\"invalid-feedback\">\n                    <div *ngIf=\"f.email.errors.required\">Email is required</div>\n                    <div *ngIf=\"f.email.errors.email\">Enter a valid email</div>\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"password\">Password</label>\n                <input type=\"password\" formControlName=\"password\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.password.errors }\" />\n                <div *ngIf=\"submitted && f.password.errors\" class=\"invalid-feedback\">\n                    <div *ngIf=\"f.password.errors.required\">Password is required</div>\n                    <div *ngIf=\"f.password.errors.minlength\">Password must be at least 6 characters</div>\n                </div>\n            </div>\n\n            <div class=\"form-group\">\n                <button [disabled]=\"loading\" class=\"btn btn-primary\">\n                    <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm mr-1\"></span>\n                    Register\n                </button>\n                <a routerLink=\"../login\" class=\"btn btn-link\">Cancel</a>\n            </div>\n        </form>\n    </div>\n</div>\n"]}